<script id="door_template" type="x-template">
	<a-entity position="{{ position }}" rotation="{{ rotation }}">
		<a-entity mixin="doorframe {{ theme }}" position="0 0 0" rotation="0 0 0"></a-entity>

		<a-entity mixin="door {{ theme }}" position="0 0 0" rotation="0 0 0" collidable="{{ $root.system.door.triggerDistance }}" sound="src: /assets/sounds/door.mp3; on:enter;">
			<a-animation v-if="triggerable" begin="enter" attribute="rotation" from="0 0 0" to="0 -90 0" dur="{{ $root.system.animation.duration }}" fill="both" easing="ease-out-bounce" repeat="{{ $root.system.animation.repeat }}"></a-animation>
			<a-animation v-if="triggerable" begin="enter" attribute="position" from="0 0 0" to="-1 0 -1" dur="{{ $root.system.animation.duration }}" fill="both" easing="ease-out-bounce" repeat="{{ $root.system.animation.repeat }}"></a-animation>

			<a-animation v-if="triggerable" begin="exit" attribute="rotation" from="0 -90 0" to="0 0 0" dur="{{ $root.system.animation.duration }}" fill="both" easing="ease-out-bounce" repeat="{{ $root.system.animation.repeat }}"></a-animation>
			<a-animation v-if="triggerable" begin="exit" attribute="position" from="-1 0 -1" to="0 0 0" dur="{{ $root.system.animation.duration }}" fill="both" easing="ease-out-bounce" repeat="{{ $root.system.animation.repeat }}"></a-animation>
		</a-entity>

		<a-entity mixin="door {{ theme }}" position="0 0 -8" rotation="0 180 0" collidable="{{ $root.system.door.triggerDistance }}" sound="src: /assets/sounds/door.mp3; on:enter;">
			<a-animation v-if="triggerable" begin="enter" attribute="rotation" from="0 180 0" to="0 270 0" dur="{{ $root.system.animation.duration }}" fill="both" easing="ease-out-bounce" repeat="{{ $root.system.animation.repeat }}"></a-animation>
			<a-animation v-if="triggerable" begin="enter" attribute="position" from="0 0 -8" to="-1 0 -7" dur="{{ $root.system.animation.duration }}" fill="both" easing="ease-out-bounce" repeat="{{ $root.system.animation.repeat }}"></a-animation>

			<a-animation v-if="triggerable" begin="exit" attribute="rotation" from="0 270 0" to="0 180 0" dur="{{ $root.system.animation.duration }}" fill="both" easing="ease-out-bounce" repeat="{{ $root.system.animation.repeat }}"></a-animation>
			<a-animation v-if="triggerable" begin="exit" attribute="position" from="-1 0 -7" to="0 0 -8" dur="{{ $root.system.animation.duration }}" fill="both" easing="ease-out-bounce" repeat="{{ $root.system.animation.repeat }}"></a-animation>
		</a-entity>
	</a-entity>
</script>