<script id="form_template" type="x-template">
    <div class="container">
        <!-- columns should be the immediate child of a .row -->
        <div class="row">
            <div class="eight columns offset-by-two">
                <div id="settings" class="userInterface">
                    <form>

                    <div v-if="$root.formPart == 0">
                        <fieldset>
                            <legend>Build your train</legend>

                            <label>name</label>
                            <input type="text" v-model="user.trainsettings.name">

                            <label>Background music</label>
                            <span v-for="music in configurable.music">
                                <input type="radio" name="music" value="{{ $key }}" v-model="user.trainsettings.music">
                                <span>{{ music.name }}</span>
                            </span>
                            <p><button v-on:click="next">Next</button></p>
                        </fieldset>
                    </div>
                        <div v-for="room in user.rooms">
                        <div v-if="$root.formPart == $index+1">
                            <fieldset v-if="$root.roomPart == 'theme'">
                                  <legend>Select your room </legend>
                                  <span v-for="theme in configurable.themes">
                                      <input type="radio" name="theme" value="{{ $key }}" v-model="room.theme">
                                    <span>{{ theme.name }}</span>
                                  </span>
                                  <button v-on:click="next">Next</button>
                            </fieldset>

                            <fieldset  v-if="$root.roomPart == 'lights'">
                                <div v-for="(light, thisindex) in room.lights">
                                    <label>Lighting effect {{ $index }}</label>

                                    <span>Style</span>
                                    <br/>
                                    <span v-for="style in configurable.light.style">
                                        <input type="radio" name="lightstyle{{ thisindex }}" value="{{ $key }}" v-model="light.style">
                                        <span>{{ style.name }}</span>
                                    </span>
                                    <br/>

                                    <span>Colour</span>
                                    <br/>
                                    <span v-for="color in configurable.light.color">
                                        <input type="radio" name="lightcolor{{ thisindex }}" value="{{ $key }}" v-model="light.color">
                                        <span>{{ color.name }}</span>
                                    </span>
                                </div>
                                <button v-on:click="next">Next</button>
                            </fieldset>
                            <fieldset v-if="$root.roomPart == 'scare'">
                                <legend>Select your Monster</legend>

                                <span v-for="monster in configurable.monsters">
                                    <input type="radio" name="monster" value="{{ $key }}" v-model="room.scares[0].monster">
                                    <span>{{ monster.name }}</span>
                                </span>

                                <label>Sound</label>
                                <span v-for="sound in configurable.sounds">
                                    <input type="radio" name="sound" value="{{ $key }}" v-model="room.sound">
                                    <span>{{ sound.name }}</span>
                                </span>

                                <label>Animation</label>
                                <span v-for="animation in configurable.animations">
                                    <input type="radio" name="animation" value="{{ $key }}" v-model="room.scares[0].animation">
                                    <span>{{ animation.name }}</span>
                                </span>


                            <p v-if="$root.formPart != user.rooms.length" >
                              <button v-on:click="next">Next</button>
                            </p>
                            <p v-if="$root.formPart == user.rooms.length">
                              <button v-on:click="activate">Scare Me</button>
                            </p>
                            </fieldset>
                        </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</script>
